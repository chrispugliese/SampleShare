{% extends 'base.html' %}
{% load static %}
{% block content %}

<h2> Uploaded Samples </h2>

{% if query_all_sample %}
<table class="table table-hover">
  <thead> 
    <tr> 
      <th scope="col">Sample Names</th>
    </tr>
  </thead>
  <tbody>
    {% for sample in query_all_sample %}
    <tr>
      <td scope="row">{{ sample.sampleName }}</td>
      <td scope="row"> 
        <div class="player-container"> 
          <button onclick="playPause('{{ sample.audioFile.url }}')" id="playBtn" class="btn btn-primary"> Play </button>
        </div>
      </td>
    </tr>
  </tbody>
  {% endfor %}

{%else%}
  <p>No Samples Uploaded!</p>
{%endif%}
  <div id="waveform"></div>


<!-- howler lib + the call to the sample player -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
<script src="https://unpkg.com/wavesurfer.js@7"></script>
<script src="{% static 'js/sample_player.js' %}"</script>

{% endblock %}

